<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dio package &mdash; dio  documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="dio  documentation" href="index.html" />
    <link rel="prev" title="Welcome to dio’s documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to dio’s documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">dio  documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="dio-package">
<h1>dio package<a class="headerlink" href="#dio-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-dio.lazydict">
<span id="dio-lazydict-module"></span><h2>dio.lazydict module<a class="headerlink" href="#module-dio.lazydict" title="Permalink to this headline">¶</a></h2>
<p>a dict with transparent, on-demand computation and optimizable memoization</p>
<p>LazyDict is for datasets of associative arrays where the presence of some 
key/value pairs allows for the derivation of other key/value pairs (e.g. 
through a direct computation, a system call, a database lookup, or some other 
system interaction).  Data relationships are captured as simple, isolated 
<a href="#id1"><span class="problematic" id="id2">`</span></a>Extensions&#8217; &#8211; functions that compute a set of values for target keys given 
a set of values for the source keys.  Defining a LazyDict class is just a 
matter of defining a set of such Extensions.  Using a LazyDict is the same as 
using a regular dict.</p>
<p>Internally, key values are memoized to avoid recomputation when reused.  The 
memoization can be configured to optimize for query count (aggressively 
prefetch and cache data at every query opportunity), to optimize for memory 
size (cache only the values for the keys explicitly used), or to <a href="#id3"><span class="problematic" id="id4">`</span></a>lock&#8217; the 
instance such that no more data is extended.  It can also be configured to 
overwrite or keep existing data when new data is presented.  Keeping with the 
pure dict interface, this memoization is configured through normal dict 
key/value pairs (<a href="#id5"><span class="problematic" id="id6">`</span></a>_laziness&#8217;, and <a href="#id7"><span class="problematic" id="id8">`</span></a>_overwrite&#8217;).</p>
<p>The concept of extensions as used here originated in egg, authored by Saul 
Youssef and John A. Brunelle.</p>
<dl class="class">
<dt id="dio.lazydict.Extension">
<em class="property">class </em><tt class="descclassname">dio.lazydict.</tt><tt class="descname">Extension</tt><a class="reference internal" href="_modules/dio/lazydict.html#Extension"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.lazydict.Extension" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A computation of target data given source data.</p>
<p>To implement an Extension, define two class-variable tuples of keys &#8211; the 
source set and the target set &#8211; and implement __call__, to compute the 
tuple of target values given the source values.  If any target key is 
non-computable, return None in place of its value.</p>
<dl class="attribute">
<dt id="dio.lazydict.Extension.source">
<tt class="descname">source</tt><em class="property"> = ()</em><a class="headerlink" href="#dio.lazydict.Extension.source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dio.lazydict.Extension.target">
<tt class="descname">target</tt><em class="property"> = ()</em><a class="headerlink" href="#dio.lazydict.Extension.target" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="dio.lazydict.LazyDict">
<em class="property">class </em><tt class="descclassname">dio.lazydict.</tt><tt class="descname">LazyDict</tt><a class="reference internal" href="_modules/dio/lazydict.html#LazyDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.lazydict.LazyDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></p>
<p>a dict with transparent, on-demand computation and optimizable memoization</p>
<p>See the module documentation for the general overview.</p>
<p>To implement a LazyDict, simply inherit from this base class and define the 
class variable <a href="#id9"><span class="problematic" id="id10">`</span></a>extensions&#8217;, a list of Extension instances.  The order 
matters &#8211; extensions are attempted roughly in order.  It&#8217;s also extremely 
good practice to document the expected keys and their value types in the 
class doc.</p>
<p>__getattr__ and related methods will raise KeyError if the data is not 
present, such as:</p>
<blockquote>
<div><ul class="simple">
<li>the key(s) necessary to compute the values through extensions are not 
present</li>
<li>there is no extension that computes the value for that key</li>
<li>data extension is limited by the laziness setting</li>
</ul>
</div></blockquote>
<p>There are two <a href="#id11"><span class="problematic" id="id12">`</span></a>special&#8217; keys:</p>
<blockquote>
<div><p>_laziness: the laziness setting (see module doc)</p>
<p>_overwrite: the overwrite setting (see module doc)</p>
</div></blockquote>
<p>Key values are never None &#8211; that special value is used internally during 
extension evaluation.  This might change, we&#8217;ll see what problems we run 
into...</p>
<dl class="attribute">
<dt id="dio.lazydict.LazyDict.extensions">
<tt class="descname">extensions</tt><em class="property"> = []</em><a class="headerlink" href="#dio.lazydict.LazyDict.extensions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dio.lazydict.LazyDict.has_key">
<tt class="descname">has_key</tt><big>(</big><em>key</em><big>)</big><a class="reference internal" href="_modules/dio/lazydict.html#LazyDict.has_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.lazydict.LazyDict.has_key" title="Permalink to this definition">¶</a></dt>
<dd><p>dict&#8217;s has_key, with transparent LazyDict semantics.</p>
<p>Note: has_key() is deprecated in Python; use the <a href="#id13"><span class="problematic" id="id14">`</span></a>in&#8217; operator, i.e. 
__contains__(), instead.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dio">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-dio" title="Permalink to this headline">¶</a></h2>
<p>lazy dict-based i/o processing pipelines</p>
<dl class="function">
<dt id="dio.apply">
<tt class="descclassname">dio.</tt><tt class="descname">apply</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/dio.html#apply"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>For each sent d, send all f(d).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> &#8211; a callable that accepts a single input dict and yields zero or
more output dicts.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">this overwrites the built-in <a href="#id15"><span class="problematic" id="id16">`</span></a>apply&#8217;, but that&#8217;s been deprecated since
2.3.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="dio.cli">
<tt class="descclassname">dio.</tt><tt class="descname">cli</tt><big>(</big><em>p</em><big>)</big><a class="reference internal" href="_modules/dio.html#cli"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.cli" title="Permalink to this definition">¶</a></dt>
<dd><p>Run any processor as a standalone cli instance in a shell pipeline.</p>
</dd></dl>

<dl class="function">
<dt id="dio.count">
<tt class="descclassname">dio.</tt><tt class="descname">count</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/dio.html#count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.count" title="Permalink to this definition">¶</a></dt>
<dd><p>The dio processor analogous of coreutils&#8217; wc.</p>
</dd></dl>

<dl class="function">
<dt id="dio.default_in">
<tt class="descclassname">dio.</tt><tt class="descname">default_in</tt><big>(</big><em>inn=&lt;open file '&lt;stdin&gt;'</em>, <em>mode 'r' at 0x2aba77bfa0c0&gt;</em>, <em>out=None</em>, <em>err=None</em><big>)</big><a class="headerlink" href="#dio.default_in" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="dio.e2d">
<tt class="descclassname">dio.</tt><tt class="descname">e2d</tt><big>(</big><em>e</em><big>)</big><a class="reference internal" href="_modules/dio.html#e2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.e2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an Exception to a LazyDict.</p>
<p>#FIXME this needs a lot of work &#8211; it&#8217;s really just a placeholder for now.</p>
</dd></dl>

<dl class="function">
<dt id="dio.err_accumulator">
<tt class="descclassname">dio.</tt><tt class="descname">err_accumulator</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/dio.html#err_accumulator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.err_accumulator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="dio.err_printer">
<tt class="descclassname">dio.</tt><tt class="descname">err_printer</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/dio.html#err_printer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.err_printer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="dio.filter">
<tt class="descclassname">dio.</tt><tt class="descname">filter</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/dio.html#filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Output input dicts iff f(d) is True.</p>
</dd></dl>

<dl class="function">
<dt id="dio.identity">
<tt class="descclassname">dio.</tt><tt class="descname">identity</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/dio.html#identity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.identity" title="Permalink to this definition">¶</a></dt>
<dd><p>Output all input dicts.</p>
</dd></dl>

<dl class="function">
<dt id="dio.in_json">
<tt class="descclassname">dio.</tt><tt class="descname">in_json</tt><big>(</big><em>inn=&lt;open file '&lt;stdin&gt;'</em>, <em>mode 'r' at 0x2aba77bfa0c0&gt;</em>, <em>out=None</em>, <em>err=None</em><big>)</big><a class="reference internal" href="_modules/dio.html#in_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.in_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="dio.in_pickle">
<tt class="descclassname">dio.</tt><tt class="descname">in_pickle</tt><big>(</big><em>inn=&lt;open file '&lt;stdin&gt;'</em>, <em>mode 'r' at 0x2aba77bfa0c0&gt;</em>, <em>out=None</em>, <em>err=None</em><big>)</big><a class="reference internal" href="_modules/dio.html#in_pickle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.in_pickle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="dio.out_accumulator">
<tt class="descclassname">dio.</tt><tt class="descname">out_accumulator</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/dio.html#out_accumulator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.out_accumulator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="dio.out_json">
<tt class="descclassname">dio.</tt><tt class="descname">out_json</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/dio.html#out_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.out_json" title="Permalink to this definition">¶</a></dt>
<dd><p>like other sinks, out and err should be file-like objects</p>
</dd></dl>

<dl class="function">
<dt id="dio.out_pickle">
<tt class="descclassname">dio.</tt><tt class="descname">out_pickle</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/dio.html#out_pickle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.out_pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>like other sinks, out and err should be file-like objects</p>
</dd></dl>

<dl class="function">
<dt id="dio.out_printer">
<tt class="descclassname">dio.</tt><tt class="descname">out_printer</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/dio.html#out_printer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.out_printer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="dio.processor">
<tt class="descclassname">dio.</tt><tt class="descname">processor</tt><big>(</big><em>f</em><big>)</big><a class="reference internal" href="_modules/dio.html#processor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorate a processing function.</p>
<p>This is for extended generator functions that get sent input and send
output.  This sets up its i/o and primes it such that it&#8217;s ready to be sent
input.</p>
</dd></dl>

<dl class="function">
<dt id="dio.restart_on_error">
<tt class="descclassname">dio.</tt><tt class="descname">restart_on_error</tt><big>(</big><em>f</em><big>)</big><a class="reference internal" href="_modules/dio.html#restart_on_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.restart_on_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorate a processing function so that it&#8217;s restarted upon any errors.</p>
<p>Ideally, it would <em>continue</em> on error, but you can&#8217;t resume a generator
after it&#8217;s raised an exception.  Therefore this restarts a new instance of
the generator.</p>
<p>This &#64;restart_on_error decorator should be applied <em>before</em> (i.e. on a
lower line) than the &#64;processor decorator.</p>
</dd></dl>

<dl class="function">
<dt id="dio.source">
<tt class="descclassname">dio.</tt><tt class="descname">source</tt><big>(</big><em>iterable</em>, <em>out=None</em>, <em>err=None</em><big>)</big><a class="reference internal" href="_modules/dio.html#source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.source" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn any iterable into a source to start a processing pipeline.</p>
</dd></dl>

<dl class="function">
<dt id="dio.uniq">
<tt class="descclassname">dio.</tt><tt class="descname">uniq</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/dio.html#uniq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dio.uniq" title="Permalink to this definition">¶</a></dt>
<dd><p>The dio equivalent of coreutils&#8217; uniq.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">dio package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-dio.lazydict">dio.lazydict module</a></li>
<li><a class="reference internal" href="#module-dio">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to dio&#8217;s documentation!</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/dio.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to dio’s documentation!"
             >previous</a> |</li>
        <li><a href="index.html">dio  documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, John A. Brunelle.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>